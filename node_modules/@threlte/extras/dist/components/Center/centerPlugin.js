import { injectPlugin } from '@threlte/core';
import { onMount, tick } from 'svelte';
const isObject3D = (object) => object.isObject3D;
export const injectCenterPlugin = (center) => {
    injectPlugin('center-plugin', ({ ref }) => {
        if (!isObject3D(ref))
            return;
        onMount(() => {
            center();
            return center;
        });
        const waitForTickAndCenter = async () => {
            await tick();
            center();
        };
        return {
            onRefChange() {
                waitForTickAndCenter();
            }
        };
    });
};
